{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khalil\\\\projects\\\\act1\\\\src\\\\components\\\\Produtos\\\\List\\\\index.js\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport Editar from \"../Editar\";\nimport \"./style.css\";\n\nfunction List() {\n  const loadProdutos = useCallback(() => {\n    const prods = JSON.parse(localStorage.getItem(\"produtos\"));\n    console.log(prods);\n    SetProdutos(prods);\n  }, []);\n\n  const callBackEdit = dataFromChild => {\n    const {\n      tipoAcao\n    } = dataFromChild;\n    console.log(tipoAcao);\n\n    if (tipoAcao === \"sucessoEdit\") {\n      SetProdutos();\n      setCurrentProduto(null);\n    } else if (tipoAcao === \"closeModal\") {\n      setCurrentProduto(null);\n    }\n  };\n\n  const [produtos, SetProdutos] = useState([]);\n  const [currentProduto, setCurrentProduto] = useState(null);\n\n  function deletar(product) {\n    console.log('deletar ' + JSON.stringify(product));\n    var prods = JSON.parse(localStorage.getItem(\"produtos\"));\n\n    for (var i = 0; i < prods.length; i++) {\n      if (prods[i].sku === product.sku) {\n        prods = prods.slice(i + 1);\n        localStorage.setItem(\"produtos\", JSON.stringify(prods));\n        loadProdutos();\n      }\n    }\n  }\n\n  useEffect(() => {\n    SetProdutos(JSON.parse(localStorage.getItem(\"produtos\")));\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Total Products:  \", produtos.length), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"SKU\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Nome\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Pre\\xE7o\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, produtos.map(produto => /*#__PURE__*/React.createElement(\"tr\", {\n    key: produto.sku,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, produto.sku), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, produto.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, produto.price), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setCurrentProduto(produto),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, \"Editar\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => deletar(produto),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, \"Deletar\")))))), currentProduto && /*#__PURE__*/React.createElement(Editar, {\n    product: currentProduto,\n    callBack: callBackEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 26\n    }\n  }));\n}\n\nexport default List;","map":{"version":3,"sources":["C:/Users/khalil/projects/act1/src/components/Produtos/List/index.js"],"names":["React","useEffect","useState","useCallback","Editar","List","loadProdutos","prods","JSON","parse","localStorage","getItem","console","log","SetProdutos","callBackEdit","dataFromChild","tipoAcao","setCurrentProduto","produtos","currentProduto","deletar","product","stringify","i","length","sku","slice","setItem","map","produto","name","price"],"mappings":"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","sourcesContent":["import React, {\r\n    useEffect,\r\n    useState,\r\n    useCallback,\r\n  } from \"react\";\r\n  import Editar from \"../Editar\";\r\n  import \"./style.css\";\r\nfunction List(){\r\n\r\n    const loadProdutos=useCallback(() => {\r\n        const prods=JSON.parse(localStorage.getItem(\"produtos\")) ;\r\n        console.log(prods);\r\n        SetProdutos(prods);\r\n          \r\n      }, []);\r\n    \r\n      const callBackEdit = (dataFromChild) => {\r\n        const { tipoAcao } = dataFromChild;\r\n        console.log(tipoAcao)\r\n        if (tipoAcao === \"sucessoEdit\") {\r\n            SetProdutos();\r\n          setCurrentProduto(null);\r\n        } else if (tipoAcao === \"closeModal\") {\r\n            setCurrentProduto(null);\r\n        }\r\n      };\r\nconst[produtos,SetProdutos]=useState([])  \r\nconst [currentProduto, setCurrentProduto] = useState(null);\r\n\r\nfunction deletar(product){\r\n  console.log('deletar '+ JSON.stringify(product))\r\n  var prods=JSON.parse(localStorage.getItem(\"produtos\")) ;\r\n  for( var i=0;i<prods.length;i++){\r\n    if(prods[i].sku===product.sku){\r\n      prods = prods.slice(i+1)\r\n      localStorage.setItem(\"produtos\",JSON.stringify(prods))\r\n      loadProdutos();\r\n    }\r\n      \r\n  }\r\n}\r\n\r\n\r\n\r\nuseEffect(()=>{\r\nSetProdutos(JSON.parse(localStorage.getItem(\"produtos\")));\r\n\r\n\r\n},[])\r\nreturn  (\r\n    <div>\r\n      \r\n      <h1>Total Products:  {produtos.length}</h1>\r\n\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>SKU</th>\r\n            <th>Nome</th>\r\n            <th>Pre√ßo</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {produtos.map((produto) => (\r\n            <tr key={produto.sku}>\r\n              <td>{produto.sku}</td>\r\n              <td>{produto.name}</td>\r\n              <td>{produto.price}</td>\r\n              <td>\r\n              <button onClick={() => setCurrentProduto(produto)}>Editar</button>\r\n              <button onClick={() => deletar(produto)}>Deletar</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {currentProduto && <Editar product={currentProduto} callBack={callBackEdit} />}\r\n    </div>\r\n  );\r\n\r\n\r\n}\r\nexport default List;"]},"metadata":{},"sourceType":"module"}